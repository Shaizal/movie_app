<div class="text-center fw-semibold p-4">
<h1>Movies</h1>
</div>

 <form class="d-flex pb-4" role="search">
<%= form_tag movies_path, method: :get do %>
  <%= text_field_tag :search, params[:search], class: "form-control me-2", placeholder: "Search by title" %>
  <%= submit_tag "Search", class: "btn btn-outline-dark" %>
<% end %>
</form>
<br>
<% if @movies.nil? %>

    <div class="alert alert-danger text-center align-center" role="alert" style="max-width: 500px; margin: 0 auto;">
    <h4 class="alert-heading">No Movies Found!</h4>
     <hr>
     <p class="mb-1"><%= link_to 'Click here', new_movie_path, class:"link-dark link-offset-2 link-underline-opacity-25 link-underline-opacity-100-hover" %> to create a new movie.</p>
     <p class="mb-0"><%= link_to 'Click here ', root_path, class:"link-dark link-offset-2 link-underline-opacity-25 link-underline-opacity-100-hover" %> to go back.</p>
    </div>
<% else %>
    <div class="table-responsive" style="max-height: 65vh; overflow-y: auto;">
    <table class="table table-striped table-bordered table-hover align-middle" >
        <thead class="table-dark">
            <tr>
            <th class="c1">Movies</th>
            <th colspan='3', class="text-center">Actions</th>
            </tr>
        </thead>
        <tbody >
            <% @movies.each do |movie| %>
                <tr>
                    <td><%= movie.title %></td>
                    <td class="c2"><%= link_to 'view' , movie_path(movie.id)  %></td>
                    <td class="c2"><%= link_to 'edit' , edit_movie_path(movie.id)  %></td>
                    <td class="c2"><%= button_to 'delete' , movie_path(movie.id), method: :delete,data: { turbo_method: :delete, turbo_confirm: "Are you sure?" }  %></td>
                </tr>
            <% end %>
        </tbody>
    </table>
    </div> 
<% end %>
<br/>